$(document).ready(function(){var s=$("body"),t=$(window).width();$(window).resize(function(){return t=$(window).width()});var i={isModalShow:!1,scrollPos:0},e=window.innerWidth-$(document).width(),o=function(){$(".modal-layer").hasClass("modal-layer-show")||($(".modal-layer").addClass("modal-layer-show"),i.scrollPos=$(window).scrollTop(),$("body").css({overflowY:"hidden",top:-i.scrollPos,width:"100%",paddingRight:e})),i.isMofdalShow=!0},a=function(){$(".modal-layer").removeClass("modal-layer-show"),$("body").css({overflow:"",position:"",top:i.scrollPos,paddingRight:0}),$(window).scrollTop(i.scrollPos),$(".modal").addClass("modal-hide-animation"),setTimeout(function(){$(".modal").removeClass("modal-hide-animation"),$(".modal").removeClass("modal__show")},600),i.isModalShow=!1},n=function(s){o(),$(".modal").each(function(){$(this).data("modal")===s?$(this).addClass("modal__show"):$(this).removeClass("modal__show")});var t=$(window).height();$(".modal-filter").height(t)};$(".modal-get").click(function(){var s=$(this).data("modal");n(s)}),$(".modal-close, .modal-hide").click(function(){a()}),$(document).on("keyup",function(s){"Escape"===s.key?a():""}),$(".modal-wrap").click(function(s){"modal-wrap"===s.target.className&&a()}),function(){var s,t=$(".js-header"),i=t.height(),e=document.documentElement,o=window,a=o.scrollY||e.scrollTop,n=0,l=0,c=function(){s=o.scrollY||e.scrollTop,s>a?n=2:s<a&&(n=1),s<i&&($("body").css("paddingTop",0),t.removeClass("shrink")),n!==l&&d(n,s),a=s},d=function(s,e){2===s&&e>i?(l=s,$("body").css("paddingTop",0),t.removeClass("shrink")):1===s&&($("body").css("paddingTop",i),t.addClass("shrink"),l=s)};$(window).scroll(function(){c()})}();s.on("click",".js-toggle",function(){$(this).toggleClass("active")}),s.on("click",".js-slide",function(){$(this).toggleClass("active"),$(this).closest(".js-slide-wrap").toggleClass("active").find(".js-slide-cont").slideToggle(500)});var l;(l=function(){$("body").on("click",".js-tick",function(){var s=$(this).closest(".js-tick-cont");s.find(".js-tick").removeClass("active"),$(this).addClass("active")})})(),s.on("click",".js-commutator-el",function(){var s,t=$(this).data("item"),i=$(this).data("group")||!1,e=$(this).data("each")||!1;$(this).toggleClass("active"),s=$(".js-commutator-cont").data("group")?$(".js-commutator-cont[data-group="+i):$(".js-commutator-cont"),s.each(function(){$(this).data("item")===t?$(this).toggleClass("active"):!!e&&$(this).removeClass("active")})}),s.on("click",".js-switch",function(s){if("style-input"!=s.target.className){var t=$(this).data("item"),i=$(this).closest(".js-switch-wrap").length;if(i<1){var e=$(this).data("group"),o=$(".js-switch[data-group="+e+"]"),a=o.size();o.each(function(){$(this).removeClass("active")}),$(".js-switch-cont").each(function(){$(this).closest(".js-switch-wrap").length;$(this).data("group")===e&&void 0!=$(this).data("group")?(console.log("inner"),$(this).data("item")===t?1===a?$(this).toggleClass("hidden"):$(this).removeClass("hidden"):$(this).addClass("hidden")):$(this).data("item")===t&&$(this).toggleClass("hidden")})}else{var n=$(this).closest(".js-switch-wrap");n.find(".js-switch").removeClass("active"),n.find(".js-switch-cont").each(function(){$(this).data("item")===t?$(this).removeClass("hidden"):$(this).addClass("hidden")})}$(this).addClass("active")}});var c;if((c=function(){$("body").on("click",".js-tab",function(){var s=$(this).index(),t=$(this).closest(".js-tab-wrap");t.find(".js-tab-cont").removeClass("active"),t.find(".js-tab-cont").eq(s).addClass("active")})})(),s.on("click",".js-accordion-head",function(s){var t=$(this).closest(".js-accordion-el").index();$(this).closest(".js-accordion").find(".js-accordion-el").each(function(){$(this).index()!=t?($(this).find(".js-accordion-head").removeClass("active"),$(this).find(".js-accordion-content").slideUp("active")):($(this).find(".js-accordion-content").slideToggle("active"),$(this).find(".js-accordion-head").toggleClass("active"))})}),$(".dropdown").click(function(){$(this).attr("tabindex",1).focus(),$(this).toggleClass("active"),$(this).find(".dropdown-menu").slideToggle(300)}),$(".dropdown").focusout(function(){$(this).removeClass("active"),$(this).find(".dropdown-menu").slideUp(300)}),$(".dropdown .dropdown-menu__el").click(function(){var s=$(this).parents(".dropdown");s.find(".dropdown-current__val").html($(this).html()),s.find("input").attr("value",$(this).data("value"))}),$(".input").each(function(){var s=$(this);if(s.data("placeholder")){var t="<span class='input-placeholder-val'>"+s.data("placeholder")+"</span>";s.after(t),$(this).val()&&$(this).attr("data-empty",!this.value)}}),$(".input").on("input",function(s){$(s.currentTarget).attr("data-empty",!s.currentTarget.value)}),$(".input-placeholder-val").click(function(){$(this).parent().find(".input").focus()}),$(".js-slider-pagination").on("init reInit afterChange",function(s,t,i,e){var o=(i?i:0)+1;$(this).closest(".slider-wrap").find(".number-slide").text(o+" / "+t.slideCount)}),$(".slider-main").slick({slidesToShow:1,speed:800,dots:!1,arrows:!1,rows:0}),$(".slider-lk").slick({slidesToShow:1,speed:800,dots:!1,arrows:!1,rows:0}),$(".slider-review").slick({slidesToShow:4,speed:800,dots:!1,arrows:!1,rows:0,responsive:[{breakpoint:1200,settings:{slidesToShow:3.2,slidesToScroll:1,infinite:!1,arrows:!1,dots:!1}},{breakpoint:769,settings:{slidesToShow:2.2,slidesToScroll:1,infinite:!1,arrows:!1,dots:!1}},{breakpoint:640,settings:{slidesToShow:1.2,slidesToScroll:1,infinite:!1,arrows:!1,dots:!1}}]}),$(".slider-press").slick({slidesToShow:6,speed:800,dots:!1,arrows:!1,rows:0,responsive:[{breakpoint:1200,settings:{slidesToShow:5,slidesToScroll:1,infinite:!1,arrows:!1,dots:!1}},{breakpoint:769,settings:{slidesToShow:4,slidesToScroll:1,infinite:!1,arrows:!1,dots:!1}},{breakpoint:640,settings:{slidesToShow:2.5,slidesToScroll:1,infinite:!1,arrows:!1,dots:!1}}]}),$(".js-control-right").click(function(){$(this).closest(".js-slider-wrap").find(".js-slider").slick("slickNext")}),$(".js-control-left").click(function(){$(this).closest(".js-slider-wrap").find(".js-slider").slick("slickPrev")}),$(".js-scroll-to").mPageScroll2id({offset:0}),s.on("click",".js-contract-el",function(s){$(this).find('input[type="radio"]').prop("checked",!0)}),s.on("click",".js-slide-block-toggle",function(s){$(".js-slide-block-toggle").not(this).removeClass("slide-block-toggle--open");var t=$(this).data("menu");$(".slide-block").each(function(){$(this).data("menu")===t?$(this).toggleClass("slide-block--open"):$(this).removeClass("slide-block--open")}),$(this).toggleClass("slide-block-toggle--open")}),s.on("click",".js-config-head",function(s){var t=$(this).closest(".js-config");t.toggleClass("active"),t.find(".js-contract-config-wrap").slideToggle()}),$(".js-copy").click(function(){$(this).addClass("active");var s=$(this).find(".js-copy-val");s.select(),document.execCommand("copy")}),$(".blog-list").length>0){mixitup(".blog-list",{selectors:{target:".blog-el"},animation:{duration:500,effects:"fade"}})}$(".fancybox").fancybox(),$(".upload-btn").change(function(){if(this.files&&this.files[0].size<655360){var s=$(this).closest(".upload-wrap").find(".upload-list");$(this).data("group")||s.empty(),s.append('<div class="upload-list__el" onclick="this.parentNode.removeChild(this);"><svg class="icon"><use xlink:href="#close"></use></svg><span></span></div>');var t=$(".upload-list .upload-list__el:last").find("span");t.text(this.files[0].name),$(".js-upload-msg").addClass("validate-msg--error")}else $(".js-upload-msg").removeClass("validate-msg--error");console.log(this.files[0].size)}),t>1025&&$(".js-horizontal-scroll").mousewheel(function(s,t){return(this.scrollLeft-=40*t)!=this.scrollLeft});var d=function(s){s.find(".js-history-edit").removeClass("active"),s.find(".btn-menu").slideUp(200)};s.on("click",".js-history-edit",function(){var s=$(this),t=$(".js-history-edit").not(this);t.removeClass("active"),t.closest(".btn-menu-wrap").find(".btn-menu").slideUp(200),s.toggleClass("active"),s.closest(".btn-menu-wrap").find(".btn-menu").slideToggle(200)}),s.on("click",".btn-menu__el",function(s){var t=$(this).closest(".btn-menu-wrap");d(t)}),$(document).mouseup(function(s){var t=$(".btn-menu-wrap");t.is(s.target)||0!==t.has(s.target).length||d(t)}),$(".chart").circleProgress({animation:!0,size:160,startAngle:-1.6,lineCap:"round",thickness:10,fill:"white",emptyFill:"#ffffff80"}),s.on("click",".history-panel-toggle",function(){$(this).closest(".history-list-el").find(".history-wrap").slideToggle()});var r={};if($("body").on("click",".incr__nav",function(s){r.parent=$(this).closest(".incr"),r.value=parseInt(r.parent.find(".incr__val span").html()),r.state=r.parent.find(".incr__val span"),r.min=1*r.parent.data("min")||0}),$("body").on("click",".incr__minus",function(s){r.value=r.value<=r.min?r.min:--r.value,r.state.html(r.value)}),$("body").on("click",".incr__plus",function(s){++r.value,r.value=r.value>100?100:r.value,r.state.html(r.value)}),$(".rating").each(function(){var s=1*$(this).data("size"),t=100*s/5+"%";$(this).find(".rating--fill").css("width","calc("+t+" - 2.5px")}),$(".js-sale-range").length){var h=$(".js-sale-range").data("config"),u=$(".js-sale-calc-total__val"),f=$(".js-sale-calc-total__cost");$(".js-sale-range").ionRangeSlider({prefix:"<span class='msg-range-icon'><svg class='icon'><use xlink:href='#userGroup'></use></svg></span>От ",postfix:"-х",from:2,to_fixed:!0,onChange:function(s){console.log(s.from_pretty),h.forEach(function(t){t.value==s.from_pretty&&(u.text(t.sale),f.text(t.cost))})}})}if(s.on("click",".js-filter-result__el",function(){$(this).remove()}),$(document).mouseup(function(s){var t=$(".filter-item");t.is(s.target)||0!==t.has(s.target).length||$(".filter-list").addClass("hide")}),s.on("click",".js-mark",function(){$(this).closest(".js-mark-wrap").find(".js-mark").removeClass("active"),$(this).addClass("active");var s=$(this).prevAll(".js-mark").addClass("active").length,t=$(this).closest(".js-mark-wrap").find(".js-mark-msg");s<1?t.removeClass("hidden"):t.addClass("hidden")}),$(".js-timer").length>0){var m=function(s,t){s=Math.abs(s)%100;var i=s%10;return s>10&&s<20?t[2]:i>1&&i<5?t[1]:1==i?t[0]:t[2]},p=$(".js-timer").data("time"),v=new Date(p);v=Date.parse(v)/1e3;var g=function(){var s=new Date;s=Date.parse(s)/1e3;var t=v-s,i=Math.floor(t/86400),e=Math.floor((t-86400*i)/3600),o=Math.floor((t-86400*i-3600*e)/60),a=Math.floor(t-86400*i-3600*e-60*o);e<"10"&&(e="0"+e),o<"10"&&(o="0"+o),a<"10"&&(a="0"+a),1*i<0?$(".js-promo-cont").addClass("hidden"):"",$(".js-timer__el-day").html(i),$(".js-timer__el-day-name").html(m(i,["день","дня","дней"])),$(".js-timer__el-hour").html(e),$(".js-timer__el-hour-name").html(m(e,["час","часа","часов"])),$(".js-timer__el-min").html(o),$(".js-timer__el-min-name").html(m(o,["минута","минуты","минут"])),$(".js-timer__el-sec").html(a),$(".js-timer__el-sec-name").html(m(a,["секунда","секунды","секунд"])),$(".timer-dot").toggleClass("hideOpacity")};setInterval(function(){g()},1e3)}$(".paralax-el").length>0&&t>1023&&$(window).scroll(function(){$(".paralax-el").each(function(){var s=-$(window).scrollTop()/$(this).data("depth")*1;$(this).css({"-webkit-transform":"translate3d(0px, "+s+"%, 100px)"})})});var w=!0;$(".input-mask--phone").mask("+7(000)000-00-00",{onKeyPress:function(s,t,i,e){return"+7(8"==s&&w?($(".input-mask--phone").val("+7("),w=!1):void(i.val().length<4&&(w=!0))}}),window.condition={},window.condition.closeModal=a,window.condition.initModal=n});